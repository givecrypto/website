{"version":3,"file":"static/webpack/static/development/pages/report.js.179e04acd48b0f4bc659.hot-update.js","sources":["webpack:///./components/Metrics/Gender/Legend.tsx","webpack:///./components/Metrics/Gender/index.tsx"],"sourcesContent":["import * as React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { colors } from \"../../../design-system\";\nimport Swatch from \"../components/Swatch\";\n\ninterface Props {\n  highlight: string | null;\n  data: Array<{\n    label: string;\n  }>;\n}\n\nconst H2 = styled.h2({\n  fontSize: \"0.9rem\",\n  fontWeight: 400,\n  color: colors.grey,\n  padding: \"0 0 0 0.5rem\",\n  margin: 0,\n});\n\nconst Pill = styled.div({\n  background: colors.white,\n  border: `1px solid ${colors.greyLightest}`,\n  borderRadius: 12,\n  padding: \"0.5rem 0.5rem\",\n  margin: \"0 1rem 0 0\",\n});\n\nconst Legend: React.FunctionComponent<Props> = ({ data }) => {\n  return (\n    <div className=\"flex\">\n      {data.map(({ label }) => {\n        return (\n          <Pill className=\"flex items-center mr3 br3\">\n            <Swatch color={colors.blueDark} />\n            <H2>{label}</H2>\n          </Pill>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Legend;\n","import * as React from \"react\";\nimport { RadialChart, Hint } from \"react-vis\";\nimport chroma from \"chroma-js\";\nimport { colors } from \"../../../design-system\";\nimport { isEmpty } from \"lodash\";\nimport Tip from \"../../../components/Tip\";\nimport Heading from \"../../../components/Heading\";\nimport Legend from \"./Legend\";\nimport {\n  totalParticipants,\n  gender,\n} from \"../../../content/ambassadors-report/metrics\";\n\ninterface Props {}\nconst Gender: React.FC<Props> = () => {\n  const [value, setValue]: any = React.useState({});\n\n  const dataWithColors = (data: any) => {\n    React.useMemo(() => {\n      // Get the color for each item\n      const getColor = (index: number) => {\n        const colorScale = chroma\n          .scale([colors.blue, colors.blueDark])\n          .mode(\"rgb\")\n          .colors(data.length);\n\n        return colorScale[index];\n      };\n\n      // Return the item and inject the correct color\n      return data.slice().map((item: any, index: number) => ({\n        ...item,\n        color: getColor(index),\n      }));\n    }, []);\n  };\n\n  const data = dataWithColors(gender);\n\n  return (\n    <div>\n      <Heading>Gender</Heading>\n      <RadialChart\n        colorType=\"literal\"\n        labelsRadiusMultiplier={0.85}\n        innerRadius={60}\n        radius={120}\n        data={data}\n        width={300}\n        height={300}\n        showLabels\n        labelsStyle={{\n          fill: colors.coldWater,\n        }}\n        onValueMouseOver={(v: any) => {\n          setValue({\n            data: v,\n            title: gender.find(item => item.label === v.label).label,\n            metrics: [\n              {\n                label: \"Total\",\n                value: Math.floor(\n                  totalParticipants *\n                    (gender.find(item => item.label === v.label).angle * 0.01),\n                ),\n              },\n              {\n                label: \"Percentage\",\n                value: `${gender.find(item => item.label === v.label).angle}%`,\n              },\n            ],\n          });\n        }}\n        onSeriesMouseOut={() => setValue({})}\n      >\n        {!isEmpty(value) && (\n          <Hint value={value.data}>\n            <Tip title={value.title} metrics={value.metrics} />\n          </Hint>\n        )}\n      </RadialChart>\n      <Legend highlight={value.title} data={data} />\n    </div>\n  );\n};\n\nexport default Gender;\n"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAFA;AAAA;AAIA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AAAA;AAJA;AAQA;AACA;AAAA;AAAA;AAFA;AAXA;AAiBA;AACA;AAAA;AAAA;AA/BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;A","sourceRoot":""}