{"version":3,"file":"static/webpack/static/development/pages/report.js.4ff36791d0698501913b.hot-update.js","sources":["webpack:///./components/Metrics/Income/index.tsx"],"sourcesContent":["import * as React from \"react\";\nimport chroma from \"chroma-js\";\nimport { RadialChart } from \"react-vis\";\nimport { colors } from \"../../../design-system\";\nimport List from \"../../../components/List\";\nimport { income } from \"../../../content/ambassadors-report/metrics\";\nimport { isNil } from \"lodash\";\n\ninterface Props {}\n\nconst Income: React.FC<Props> = () => {\n  const [highlightId, setHighlightId]: any = React.useState(null);\n  // Hold on to any timers\n  const timers = [];\n\n  const dataWithColors = (data: any) =>\n    React.useMemo(() => {\n      // Get the color for each item\n      const getColor = (index: number) => {\n        const colorScale = chroma\n          .scale([colors.green, colors.greenDark])\n          .mode(\"rgb\")\n          .colors(data.length);\n\n        if (isNil(highlightId)) {\n          return colorScale[index];\n        } else {\n          return index === data.findIndex(a => a.label === highlightId)\n            ? chroma(colors.green)\n                .brighten(0.13)\n                .css()\n            : colorScale[index];\n        }\n      };\n\n      // Return the item and inject the correct color\n      return data.slice().map((item: any, index: number) => ({\n        ...item,\n        color: getColor(index),\n      }));\n    }, [highlightId]);\n\n  const listItems = dataWithColors(income)\n    .slice()\n    .map((item, i) => ({\n      id: `${i}`,\n      color: item.color,\n      category: item.label,\n      label: `Another ${item.subLabel}`,\n      value: item.subLabel,\n    }));\n\n  const handleHighlightChange = (label?: string) => {\n    timers.map(clearTimeout);\n    timers.push(\n      setTimeout(() => {\n        setHighlightId(label);\n      }, 100),\n    );\n  };\n\n  return (\n    <div>\n      <p>Income Metrics</p>\n      <div className=\"flex flex-wrap items-center\">\n        <div className=\"w-50 pv4\">\n          <div className=\"flex items-center justify-center\">\n            <RadialChart\n              colorType=\"literal\"\n              data={dataWithColors(income)}\n              width={300}\n              height={300}\n              innerRadius={85}\n              radius={120}\n              animation\n              onValueMouseOver={(v: any) => {\n                handleHighlightChange(\n                  income.find(item => item.label === v.label).label,\n                );\n              }}\n              onSeriesMouseOut={() => {\n                handleHighlightChange();\n              }}\n            />\n          </div>\n        </div>\n        <div className=\"w-50\">\n          <List\n            items={listItems}\n            highlightId={highlightId}\n            onHighlight={handleHighlightChange}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Income;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAFA;AAAA;AAIA;AAzBA;AACA;AA0BA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AACA;AAOA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;;;;A","sourceRoot":""}